<!-- Indicador de carga -->
<div *ngIf="loading" class="loading-container">
  <div class="spinner"></div>
  <p>Cargando perfil...</p>
</div>

<!-- Mensaje de error -->
<div *ngIf="error" class="error-container">
  <p class="error-message">{{ error }}</p>
  <button (click)="loadPerfil()" class="retry-button">Reintentar</button>
</div>

<!-- Sección principal -->
<main *ngIf="!loading && !error && perfil" class="perfil-principal">
    <div class="perfil-container">
        <!-- FOTO DE PERFIL -->
        <div class="perfil-img-container">
            <img src="img/gato1.jpg" alt="Foto de perfil" class="perfil-img">
        </div>

        <!-- INFORMACIÓN A LA DERECHA -->
        <div class="perfil-info">
            <h1>{{ perfil.nombre }}</h1>
            <p class="titulo">estudiante de ingenieria de sistemas</p>

            <div class="info-personal">
                <p><strong>Estado civil:</strong> Soltero</p>
                <p><strong>Ciudad:</strong> Andahuaylas, Perú</p>
                <p><strong>Edad:</strong> 20 años</p>
                <p><strong>Email:</strong> {{ perfil.contacto?.email }}</p>
            </div>

            <div class="descripcion-breve">
                <p>{{ perfil.resumen }}</p>
            </div>

            <div class="intereses">
                <h3>Habilidades</h3>
                <ul>
                    <app-skill-item *ngFor="let h of perfil.habilidades" [skill]="h" (skillClicked)="onSkillClicked($event)"></app-skill-item>
                </ul>
            </div>
        </div>
    </div>

    <!-- SECCIÓN DE APLICACIONES -->
    <section class="aplicaciones-section">
        <h2>Herramientas que uso</h2>
        
        <div class="aplicaciones-grid">
            <div *ngFor="let app of aplicaciones" class="app-card">
                <h3>{{ app.titulo }}</h3>
                <p>{{ app.descripcion }}</p>
                <div class="plataformas">
                    <span *ngFor="let plat of app.aplicaciones" class="badge">
                        {{ plat }}
                    </span>
                </div>
            </div>
        </div>
    </section>
</main>